/* This file is generated by  NSL3.0 preprocessor*/

/* SCCS %W%---%G%--%U% */

/* Copyright 1999 University of Southern California Brain Lab */
/* Author Jacob Spoelstra */
/* email nsl@java.usc.edu */

 import nslj.src.system.*; 
 import nslj.src.cmd.*; 
 import nslj.src.lang.*; 
 import nslj.src.math.*; 
 import nslj.src.display.*; 

 public class SENS_layer extends NslModule/*()*/ {
    // inports
    NslDinDouble0 t_in ; /*()*/       // Throw direction [-50:50]
    // outports
    NslDoutDouble0 p_out ; /*()*/     // Prism angle [0:30]
    NslDoutDouble1 sens_out ; /*(2)*/ // Error sensors 
    // variables
    
 public  void simTrain() {
     simRun();
 }
 
 public  void simRun(){
      double Derror;

     p_out.set((NslDouble0)nslGetValue("dartModel.p_out")) /*rule 114 */;
     Derror=
 nslj.src.math.NslSub.eval(p_out.get(),t_in.get());
     /* go leftward or rightward */
     (sens_out).set(0,NslStep.eval(Derror,0,(.1)-((Derror)/(10.)),0.1))/* rule 100 */;
     (sens_out).set(1,NslStep.eval(Derror,0,0.1,(.1)+((Derror)/(10.))))/* rule 100 */;
 }
	/* nslInitTempModule inserted by NPP */
public void nslInitTempModule() {
	/* Instantiation statements generated by NslPreProcessor */
	/* temporary variables */
	/* end of automatic instantiation statements */
	/* Intialisation statements generated by NslPreProcessor */
	/* temporary variables */
	/* end of automatic intialisation statements */
}

	/* nslInitTempRun inserted by NPP */
public void nslInitTempRun() {
	/* Intialisation statements generated by NslPreProcessor */
	/* temporary variables */
	/* end of automatic intialisation statements */
}

	/* nslInitTempTrain inserted by NPP */
public void nslInitTempTrain() {
	/* Initialisation statements generated by NslPreProcessor */
	/* temporary variables */
	/* end of automatic intialisation statements */
}

	/* Declaration statements generated by NslPreProcessor */
	/* makeinst() declared variables */
	/* temporary variables */
	/* constructor and related methods */
	/* nsl declarations */

	 /*GENERIC CONSTRUCTOR:   */
	 public SENS_layer(String nslName, NslModule nslParent) {
		super(nslName, nslParent);
		initSys();
		makeInst(nslName, nslParent);
	}
	public void makeInst(String nslName, NslModule nslParent){ 
	 t_in=new NslDinDouble0 ("t_in",this); //NSLDECLS 
	 p_out=new NslDoutDouble0 ("p_out",this); //NSLDECLS 
	 sens_out=new NslDoutDouble1 ("sens_out",this,2); //NSLDECLS 
	}
	/* end of automatic declaration statements */
}
