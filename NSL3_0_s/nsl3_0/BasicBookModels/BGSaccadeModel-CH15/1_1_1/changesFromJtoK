99/8/5 aa:

The following is part of the CMD file I used to translate Crowley version j
to Crowley version k.
Usin in conjunction with changelotsofwordsinfiles.csh.

1,$s/};/}/g
1,$s/.nslm/.mod/g
1,$s/verbatim NSLJ/verbatim_NSLJ;/g
1,$s/verbatim off/verbatim_off;/g
1,$s/conn/nslConnect/g
1,$s/String/charString/g
1,$s/.diff/,nslDiff/g
1,$s/System.out.print/nslPrint/g
1,$s/System.err.print/nslPrint/g
1,$s/extends NslModule()//g
1,$s/class/nslClass/g

Note: the semicolon in the verbatim statements is new as of 8/5.

Also, the last two statements above really are not correct.
NslModule user to take 2 parameters: (String name, NslModule parent).
now we drop whole thing before extends.

Also not all classes or Strings chould be tranlated to the new
format of nslClass and charString, since some may be enclose in verbatim 
statements.

Other things I changed are:
1. must change some nslConnects to nslRelables
2. On the nslRelables make sure to delete the "this".
3. All nslConnects use the form module.port and not
the old syntax of conn(module1,"outport",module2,"inport");
4. A biggy - all input ports now require the user to specify the dimensions
of the arrays.
5. All nsl numerics use to take ("name",this, dimensions).  Only the
dimensions are now needed.
6. var.max changed to nslMaxValue(var); Same with min
7. var.sum changed to nslSum(var);
8. Note the old nslj buffering default was true, now it is false.
You should just set it to what you want it to be in the model.
8. If you run into trouble translating a model you should:
a. see what it looks like in NSL2.1.7
b. in nslj set the buffering to false.
c. change the threshold functions to Nsl2Func.eval where Func is either
Sigmoid, Saturation, Ramp, or Step.

 



