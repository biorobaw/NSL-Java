/* This file is generated by  NSL3.0 preprocessor*/

/* SCCS  %W%---%G%--%U% */
/* old kversion @(#)Lat.mod	1.8 --- 08/05/99 -- 13:56:26 : jversion  @(#)Lat.mod	1.2---04/23/99--18:39:34 */

// Import statements
 import nslj.src.system.*; 
 import nslj.src.cmd.*; 
 import nslj.src.lang.*; 
 import nslj.src.math.*; 
 import nslj.src.display.*; 

//
// Lateral Circuit
//
/**
 * Lat class
 * Represents the Lateral Circuit
 * @see    Lat
 * @version 0.1 96/11/19
 * @author  Michael Crowley
 * -var public PFCgo_in - input coming from PFC module (of type NslDouble2)<p>
 * -var public SNCdop_in - input coming from SNC module (of type NslDouble2)<p>
 * -var public PFCfovea_in - input coming from PFC module (of type NslDouble2)<p>
 * -var public FEFsac_in - input coming from FEF module (of type NslDouble2)<p>
 * -var public SNRlatburst_out - output going to SC module (of type NslDouble2)<p>
 */

 public class Lat extends NslModule/*(int CorticalArraySize)*/ {
	//input ports
    public NslDinDouble2 FEFsac_in ; /*(CorticalArraySize,CorticalArraySize)  */
    public NslDinDouble2 SNCdop_in ; /*(CorticalArraySize,CorticalArraySize)   */
    public NslDinDouble2 PFCgo_in ; /*(CorticalArraySize,CorticalArraySize)   */
    public NslDinDouble2 PFCfovea_in ; /*(CorticalArraySize,CorticalArraySize)   */
	//output ports
    public NslDoutDouble2 SNRlatburst_out ; /*(CorticalArraySize,CorticalArraySize)   */

    // private variables
    private CDlatinh cdlatinh ; /* (CorticalArraySize) */
    private CDlattan cdlattan ; /*   (CorticalArraySize)  */
    private CDlatburst cdlatburst ; /*  (CorticalArraySize)   */
    private GPElatburst gpelatburst ; /*  (CorticalArraySize)  */
    private STNlatburst stnlatburst ; /* (CorticalArraySize)   */
    private SNRlatburst snrlatburst ; /*   (CorticalArraySize)  */
  
  public  void makeConn () {
    // module inputs to leaf inputs
    nslConnect(FEFsac_in,cdlatinh.FEFsac_in);
    nslConnect(PFCgo_in,cdlatinh.PFCgo_in);
    nslConnect(SNCdop_in,cdlattan.SNCdop_in);
    nslConnect(FEFsac_in,cdlatburst.FEFsac_in);
    nslConnect(SNCdop_in,cdlatburst.SNCdop_in);
    nslConnect(PFCgo_in,cdlatburst.PFCgo_in);
    nslConnect(PFCfovea_in,cdlatburst.PFCfovea_in);

    // leaf internslConnectections
    nslConnect(cdlatinh.CDlatinh_out,cdlattan.CDlatinh_in);
    nslConnect(cdlattan.CDlattan_out,cdlatburst.CDlattan_in);
    nslConnect(cdlatburst.CDindlatburst_out,gpelatburst.CDindlatburst_in);
    nslConnect(cdlatburst.CDdirlatburst_out,snrlatburst.CDdirlatburst_in);
    nslConnect(gpelatburst.GPElatburst_out,stnlatburst.GPElatburst_in);
    nslConnect(stnlatburst.STNlatburst_out,snrlatburst.STNlatburst_in);


    // leaf outputs to module outputs
    nslConnect(snrlatburst.SNRlatburst_out,SNRlatburst_out);

  }

  public  void simRun () {
    /*
System.out.println("CDlatinh_out"+CDlatinh_out+"\nCDlattan_out"+CDlattan_out+
"\nCDindlatburst_out"+CDindlatburst_out+
"\nCDdirlatburst_out"+CDdirlatburst_out+
"\nGPElatburst_out"+GPElatburst_out+
"\nSTNlatburst_out"+STNlatburst_out+"\n\n");

*/
  }

	/* nslInitTempModule inserted by NPP */
public void nslInitTempModule() {
	/* Instantiation statements generated by NslPreProcessor */
	/* temporary variables */
	/* end of automatic instantiation statements */
	/* Intialisation statements generated by NslPreProcessor */
	/* temporary variables */
	/* end of automatic intialisation statements */
}

	/* nslInitTempRun inserted by NPP */
public void nslInitTempRun() {
	/* Intialisation statements generated by NslPreProcessor */
	/* temporary variables */
	/* end of automatic intialisation statements */
}

	/* nslInitTempTrain inserted by NPP */
public void nslInitTempTrain() {
	/* Initialisation statements generated by NslPreProcessor */
	/* temporary variables */
	/* end of automatic intialisation statements */
}

	/* Declaration statements generated by NslPreProcessor */
	/* makeinst() declared variables */
	/* temporary variables */
	/* constructor and related methods */
	/* nsl declarations */
	int CorticalArraySize;

	 /*GENERIC CONSTRUCTOR:   */
	 public Lat(String nslName, NslModule nslParent,int CorticalArraySize) {
		super(nslName, nslParent);
		this.CorticalArraySize = CorticalArraySize;
		initSys();
		makeInst(nslName, nslParent,CorticalArraySize);
	}
	public void makeInst(String nslName, NslModule nslParent,int CorticalArraySize){ 
	 FEFsac_in=new NslDinDouble2 ("FEFsac_in",this,CorticalArraySize,CorticalArraySize); //NSLDECLS 
	 SNCdop_in=new NslDinDouble2 ("SNCdop_in",this,CorticalArraySize,CorticalArraySize); //NSLDECLS 
	 PFCgo_in=new NslDinDouble2 ("PFCgo_in",this,CorticalArraySize,CorticalArraySize); //NSLDECLS 
	 PFCfovea_in=new NslDinDouble2 ("PFCfovea_in",this,CorticalArraySize,CorticalArraySize); //NSLDECLS 
	 SNRlatburst_out=new NslDoutDouble2 ("SNRlatburst_out",this,CorticalArraySize,CorticalArraySize); //NSLDECLS 
	 cdlatinh=new CDlatinh ("cdlatinh",this,CorticalArraySize); //NSLDECLS 
	 cdlattan=new CDlattan ("cdlattan",this,CorticalArraySize); //NSLDECLS 
	 cdlatburst=new CDlatburst ("cdlatburst",this,CorticalArraySize); //NSLDECLS 
	 gpelatburst=new GPElatburst ("gpelatburst",this,CorticalArraySize); //NSLDECLS 
	 stnlatburst=new STNlatburst ("stnlatburst",this,CorticalArraySize); //NSLDECLS 
	 snrlatburst=new SNRlatburst ("snrlatburst",this,CorticalArraySize); //NSLDECLS 
	}
	/* end of automatic declaration statements */
} //end class
